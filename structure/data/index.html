
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://datashades.github.io/ckanext-collection/structure/data/">
      
      
        <link rel="prev" href="../domain/">
      
      
        <link rel="next" href="../pager/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>Data - ckanext-collection</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ckanext-collection" class="md-header__button md-logo" aria-label="ckanext-collection" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ckanext-collection
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/DataShades/ckanext-collection" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ckanext-collection" class="md-nav__button md-logo" aria-label="ckanext-collection" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    ckanext-collection
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DataShades/ckanext-collection" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../interfaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interfaces
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Structure
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Structure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../domain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abstract service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Data
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#base-data-class" class="md-nav__link">
    <span class="md-ellipsis">
      Base Data class
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#available-data-factories" class="md-nav__link">
    <span class="md-ellipsis">
      Available data factories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Available data factories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.Data" class="md-nav__link">
    <span class="md-ellipsis">
      Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.StaticData" class="md-nav__link">
    <span class="md-ellipsis">
      StaticData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.CsvFileData" class="md-nav__link">
    <span class="md-ellipsis">
      CsvFileData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.ApiData" class="md-nav__link">
    <span class="md-ellipsis">
      ApiData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.ApiSearchData" class="md-nav__link">
    <span class="md-ellipsis">
      ApiSearchData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.BaseSaData" class="md-nav__link">
    <span class="md-ellipsis">
      BaseSaData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.TemporalSaData" class="md-nav__link">
    <span class="md-ellipsis">
      TemporalSaData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.StatementSaData" class="md-nav__link">
    <span class="md-ellipsis">
      StatementSaData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.UnionSaData" class="md-nav__link">
    <span class="md-ellipsis">
      UnionSaData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.ModelData" class="md-nav__link">
    <span class="md-ellipsis">
      ModelData
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pager
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../columns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Columns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../serializer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serializer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../filters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filters
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../examples/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/access/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accessing data
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrations
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#base-data-class" class="md-nav__link">
    <span class="md-ellipsis">
      Base Data class
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#available-data-factories" class="md-nav__link">
    <span class="md-ellipsis">
      Available data factories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Available data factories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.Data" class="md-nav__link">
    <span class="md-ellipsis">
      Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.StaticData" class="md-nav__link">
    <span class="md-ellipsis">
      StaticData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.CsvFileData" class="md-nav__link">
    <span class="md-ellipsis">
      CsvFileData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.ApiData" class="md-nav__link">
    <span class="md-ellipsis">
      ApiData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.ApiSearchData" class="md-nav__link">
    <span class="md-ellipsis">
      ApiSearchData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.BaseSaData" class="md-nav__link">
    <span class="md-ellipsis">
      BaseSaData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.TemporalSaData" class="md-nav__link">
    <span class="md-ellipsis">
      TemporalSaData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.StatementSaData" class="md-nav__link">
    <span class="md-ellipsis">
      StatementSaData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.UnionSaData" class="md-nav__link">
    <span class="md-ellipsis">
      UnionSaData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection.shared.data.ModelData" class="md-nav__link">
    <span class="md-ellipsis">
      ModelData
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="data">Data</h1>
<h2 id="overview">Overview</h2>
<p>This service produces the data for collection. Every data service must:</p>
<ul>
<li>be <code>Iterable</code></li>
<li>yield all existing records during iteration. I.e, if data service produces
  datasets from <code>package_search</code> API, <code>list(data)</code> must contain <strong>all</strong>
  datasets from the search index, not only first 10 or 20.</li>
<li>define <code>total</code> property, that reflects number of available records so that
  <code>len(list(data)) == data.total</code></li>
<li>define <code>range(start: Any, end: Any)</code> method that returns slice of the data</li>
</ul>
<p>Base class for data services - <code>Data</code> - already contains a simple version of
this logic. Just override <code>compute_data()</code> and return a sequence with records
from it, to satisfy minimal requirements of the data service.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyData</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Data</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">compute_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span><span class="n">data_factory</span><span class="o">=</span><span class="n">MyData</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">total</span>
<span class="go">26</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="go">&quot;xyz&quot;</span>
</code></pre></div>
</div>
<p>Using <code>compute_data</code> simplifies defining data services, but it's not
required. You can explicitly implement all methods</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code>class MyData(data.Data):
    letters = &quot;abcdefghijklmnopqrstuvwxyz&quot;

    @property
    def total(self):
        return len(self.letters)

    def __iter__(self):
        yield from self.letters

    def range(self, start, end):
        return self.letters[start:end]
</code></pre></div>
</div>
<h2 id="base-data-class">Base <code>Data</code> class</h2>
<p>This class defines a couple of standard helpers in addition to minimal
requirements of data service</p>
<p>The most important, it caches result of <code>compute_data</code> when data or data length
is accessed. Because of it, items and length of the data service are not
updated in runtime.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>In the following example, items from data service and its length are not
changed after assigning to <code>items</code>, because of <code>compute_data</code> called only
during first access to data. After this point, data service uses cached result
of the first <code>compute_data</code> call.</p>
<p><div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyData</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Data</span><span class="p">):</span>
    <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">compute_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span><span class="n">data_factory</span><span class="o">=</span><span class="n">MyData</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">total</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># (1)!</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">total</span>
<span class="go">3</span>
</code></pre></div></p>
<ol>
<li>This has no sense, because data is already cached and <code>items</code> property will
   not be used anymore</li>
</ol>
<p>To reset the cache and use <code>compute_data</code> again, call <code>refresh_data()</code> method
of the data service.</p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="s2">&quot;hello&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">refresh_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="go">[&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">total</span>
<span class="go">5</span>
</code></pre></div>
</div>
<p>Base <code>Data</code> class expects that <code>compute_data</code> returns a
<a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence"><code>collections.abc.Sequence</code></a>.
With this expectation it implements <code>range(start, end)</code> that returns slice of
the data, and <code>at(index)</code> that returns element with specified index.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyData</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Data</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">compute_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="k">return</span> <span class="s2">&quot;hello world&quot;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span><span class="n">data_factory</span><span class="o">=</span><span class="n">MyData</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">&quot;o&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="go">&quot;world&quot;</span>
</code></pre></div>
<p>These methods are also accessible via index operator.</p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="go">&quot;o&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">:]</span>
<span class="go">&quot;world&quot;</span>
</code></pre></div>
</div>
<p>If you are not going to rely on <code>compute_data</code> when extending <code>Data</code> class,
implement your own caching logic and index-acces, if you need them.</p>
<h2 id="available-data-factories">Available data factories</h2>
<p>These factories are available at <code>ckanext.collection.shared.data</code>.</p>


<div class="doc doc-object doc-class">



<h3 id="collection.shared.data.Data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>Data</code>


</h3>


    <div class="doc doc-contents first">


      <p>Base data source for collection.</p>
<p>This class defines an outline of the data service. In basic case, sublcass
should override <code>compute_data</code> method and return a Sequence from it to keep
all methods functional.</p>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyData</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">Data</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">compute_data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</code></pre></div>
</details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="collection.shared.data.StaticData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>StaticData</code>


</h3>


    <div class="doc doc-contents first">


      <p>Static data source.</p>
<p>This class produce items from its <code>data</code> attribute. Use any sequence as a
value for <code>data</code> during initialization.</p>


<details class="warning" open>
  <summary>Warning</summary>
  <p>Iteration and size measurement uses cached version of <code>data</code>. If <code>data</code>
attribute was overriden after service initialization, call
<code>refresh_data()</code> method of the service to reset the cache.</p>
</details>

<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.StaticData.data">data</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>sequence of items produced by the service</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Iterable">Iterable</span>[<span title="ckanext.collection.types.TData">TData</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p><div class="highlight"><pre><span></span><code><span class="n">NumericData</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">StaticData</span><span class="o">.</span><span class="n">with_attributes</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>

<span class="n">UppercaseData</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">StaticData</span><span class="o">.</span><span class="n">with_attributes</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="s2">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span><span class="n">data_factory</span><span class="o">=</span><span class="n">NumericData</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</code></pre></div></p>
</details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="collection.shared.data.CsvFileData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>CsvFileData</code>


</h3>


    <div class="doc doc-contents first">


      <p>Data source for CSV file.</p>
<p>CSV file available at path specified by <code>source</code> attribute of the service
is read into memory and its every row transformed into dictionary.</p>


<details class="warning" open>
  <summary>Warning</summary>
  <p>Iteration and size measurement uses cached version of source's content.
If <code>source</code> attribute was overriden or its content was modified after
service initialization, call <code>refresh_data()</code> method
of the service to reset the cache.</p>
</details>

<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.CsvFileData.source">source</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>path to CSV source</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">CsvFileData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/file.csv&quot;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">    {&quot;column_1&quot;: &quot;value_1&quot;, &quot;column_2&quot;: &quot;value_2&quot;},</span>
<span class="go">    ...</span>
<span class="go">]</span>
</code></pre></div>
</details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="collection.shared.data.ApiData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ApiData</code>


</h3>


    <div class="doc doc-contents first">


      <p>API data source.</p>
<p>This base class is suitable for building API calls. Its <code>compute_data</code>
makes the single request to the specified API action and yields items from
the response.</p>


<details class="warning" open>
  <summary>Warning</summary>
  <p>Iteration and size measurement uses cached version of action's result.
To call action again and use the fresh result, use <code>refresh_data()</code> method
of the service.</p>
</details>

<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.ApiData.action">action</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>API action that returns the data</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.ApiData.payload">payload</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>parameters passed to the action</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>dict[str, <span title="typing.Any">Any</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.ApiData.ignore_auth">ignore_auth</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>skip authorization checks</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>bool</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.ApiData.user">user</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>name of the user for the action. Default: <code>tk.current_user.name</code></p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>str</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">ApiData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;group_list_authz&quot;</span><span class="p">,</span> <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[{...}, {...}]</span>
</code></pre></div>
</details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="collection.shared.data.ApiSearchData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ApiSearchData</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="collection.utils.data.api.ApiData" href="#collection.shared.data.ApiData">ApiData</a>[<span title="ckanext.collection.types.TData">TData</span>, <span title="ckanext.collection.types.TDataCollection">TDataCollection</span>]</code></p>


      <p>API data source optimized for package_search-like actions.</p>
<p>This class expects that API action accepts <code>start</code> and <code>rows</code> parameters
that controls offset and limit. And result of the action must contain
<code>count</code> and <code>results</code> keys.</p>
<p>This data service can iterate over huge number of items, reading just few
of them into the memory at once. It means you can iterate over thousands of
datasets in an efficient way without messing with offsets and limits:</p>
<div class="highlight"><pre><span></span><code><span class="n">packages</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">ApiSearchData</span><span class="p">,</span>
    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;package_search&quot;</span><span class="p">},</span>
<span class="p">)</span>

<span class="c1"># the following loop goes over every available package, no matter how may</span>
<span class="c1"># of them are available inside search index</span>
<span class="k">for</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="n">packages</span><span class="o">.</span><span class="n">data</span><span class="p">:</span> <span class="c1"># (1)!</span>
    <span class="o">...</span>

<span class="c1"># total number of items processed in the previous step is the same as</span>
<span class="c1"># number of public datasets</span>
<span class="k">assert</span> <span class="n">packages</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">total</span> <span class="o">==</span> <span class="n">tk</span><span class="o">.</span><span class="n">get_action</span><span class="p">(</span><span class="s2">&quot;package_search&quot;</span><span class="p">)({},</span> <span class="p">{})[</span><span class="s2">&quot;count&quot;</span><span class="p">]</span>
</code></pre></div>
<ol>
<li><code>data</code> service is iterated directly to access all the items. Iterating
   over <code>packages</code> would yield just first 10 items because of pagination.</li>
</ol>


<details class="warning" open>
  <summary>Warning</summary>
  <p>Size measurement uses cached number of records. To refresh the total
number of records, call <code>refresh_data()</code> method of the service. Such
thing can be used if a new item was created after initialization of the
collection</p>
<p>The records are not cached, to reduce memory usage. Every separate
iteration over data service and every <code>range</code> call initiates a fresh
API request.</p>
</details>

<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">ApiSearchData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;package_search&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;payload&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;q&quot;</span><span class="p">:</span> <span class="s2">&quot;res_format:CSV&quot;</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[{...}, {...}]</span>
</code></pre></div>
</details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="collection.shared.data.BaseSaData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>BaseSaData</code>


</h3>


    <div class="doc doc-contents first">


      <p>Abstract data source for SQL statements.</p>
<p>This class can be extended to build data source over SQL statement. Its
<code>compute_data</code> calls 4 methods:</p>
<ul>
<li><code>get_base_statement</code>: produces initial statement</li>
<li><code>alter_statement(stmt)</code>: modifies statement or replaces it completely</li>
<li><code>statement_with_filters(stmt)</code>: apply <code>WHERE</code> and <code>HAVING</code> conditions</li>
<li><code>statement_with_sorting(stmt)</code>: apply <code>ORDER BY</code></li>
</ul>
<p>These methods do nothing by default, but can be replaced in sublcasses to
build SQL statement gradually.</p>


<details class="warning" open>
  <summary>Warning</summary>
  <p>Final statement produced by <code>compute_data</code> and total number of results
are cached. Call <code>refresh_data()</code> method of the service to rebuild the
statement and refresh number of rows.</p>
</details>

<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.BaseSaData.use_naive_filters">use_naive_filters</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>search by filterable columns from <code>params</code>. Default: true</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>bool</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.BaseSaData.use_naive_search">use_naive_search</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>if <code>params</code> contains <code>q</code>, ILIKE it against searchable
columns. Default: true</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>bool</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.BaseSaData.session">session</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>SQLAlchemy session</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="ckan.types.AlchemySession">AlchemySession</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.BaseSaData.is_scalar">is_scalar</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>return only first column from each row</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>bool</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="k">as</span> <span class="nn">sa</span>
<span class="kn">from</span> <span class="nn">ckan</span> <span class="kn">import</span> <span class="n">model</span>

<span class="k">class</span> <span class="nc">UserData</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">BaseSaData</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_base_statement</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">sa</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span><span class="n">data_factory</span><span class="o">=</span><span class="n">UserData</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[(&quot;default&quot;,), (...,)]</span>
</code></pre></div>
</details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="collection.shared.data.TemporalSaData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>TemporalSaData</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="collection.utils.data.model.BaseSaData" href="#collection.shared.data.BaseSaData">BaseSaData</a>[<span title="collection.utils.data.model.TStatement">TStatement</span>, <span title="ckanext.collection.types.TData">TData</span>, <span title="ckanext.collection.types.TDataCollection">TDataCollection</span>]</code></p>


      <p>Data source that supports pagination by datetime column.</p>


<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.TemporalSaData.temporal_column">temporal_column</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>column used for pagination</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="sqlalchemy.sql.ColumnElement">ColumnElement</span>[<span title="typing.Any">Any</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>This class can be used as a base for SQL statement based data
services. Collection that uses such data service must also use
<code>pager.TemporalPager</code> instead of the default <code>pager.ClassicPager</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="k">as</span> <span class="nn">sa</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">ckan</span> <span class="kn">import</span> <span class="n">model</span>

<span class="k">class</span> <span class="nc">TemporalPackageData</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">TemporalSaData</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_base_statement</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">sa</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">Package</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">Package</span><span class="o">.</span><span class="n">metadata_created</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">TemporalPackageData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;temporal_column&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">Package</span><span class="o">.</span><span class="n">metadata_created</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pager_factory</span><span class="o">=</span><span class="n">pager</span><span class="o">.</span><span class="n">TemporalPager</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">pager_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;since&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">40</span><span class="p">)},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[(&quot;pkg1&quot;, datetime.datetime(2024, 6, 13, 10, 40, 22, 518511)), ...]</span>
</code></pre></div>
</details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="collection.shared.data.StatementSaData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>StatementSaData</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="collection.utils.data.model.BaseSaData" href="#collection.shared.data.BaseSaData">BaseSaData</a>[<span title="sqlalchemy.sql.selectable.Select">Select</span>, <span title="ckanext.collection.types.TData">TData</span>, <span title="ckanext.collection.types.TDataCollection">TDataCollection</span>]</code></p>


      <p>Data source for arbitrary SQL statement.</p>


<details class="warning" open>
  <summary>Warning</summary>
  <p>Final statement produced by <code>compute_data</code> and total number of results
are cached. Call <code>refresh_data()</code> method of the service to rebuild the
statement and refresh number of rows.</p>
</details>

<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.StatementSaData.statement">statement</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>select statement</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="sqlalchemy.sql.Select">Select</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">StatementSaData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;statement&quot;</span><span class="p">:</span> <span class="n">sa</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">)},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[(&quot;default&quot;,), (...,)]</span>
</code></pre></div>
</details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="collection.shared.data.UnionSaData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>UnionSaData</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="collection.utils.data.model.BaseSaData" href="#collection.shared.data.BaseSaData">BaseSaData</a>[<span title="sqlalchemy.sql.selectable.Select">Select</span>, <span title="ckanext.collection.types.TData">TData</span>, <span title="ckanext.collection.types.TDataCollection">TDataCollection</span>]</code></p>


      <p>Data source for multiple SQL statement merged with UNION ALL.</p>


<details class="warning" open>
  <summary>Warning</summary>
  <p>Final statement produced by <code>compute_data</code> and total number of results
are cached. Call <code>refresh_data()</code> method of the service to rebuild the
statement and refresh number of rows.</p>
</details>

<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.UnionSaData.statements">statements</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>select statements</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="sqlalchemy.sql.Select">Select</span></code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">UnionSaData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;statements&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">sa</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">sa</span><span class="o">.</span><span class="n">literal</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">sa</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">Package</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">sa</span><span class="o">.</span><span class="n">literal</span><span class="p">(</span><span class="s2">&quot;package&quot;</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">sa</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">Group</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">sa</span><span class="o">.</span><span class="n">literal</span><span class="p">(</span><span class="s2">&quot;group&quot;</span><span class="p">)),</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">]},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[(&quot;default&quot;, &quot;user&quot;),</span>
<span class="go">(&quot;warandpeace&quot;, &quot;package&quot;),</span>
<span class="go">(&quot;my-cool-group&quot;, &quot;group&quot;)]</span>
</code></pre></div>
</details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="collection.shared.data.ModelData" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <code>ModelData</code>


</h3>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="collection.utils.data.model.BaseSaData" href="#collection.shared.data.BaseSaData">BaseSaData</a>[<span title="sqlalchemy.sql.selectable.Select">Select</span>, <span title="ckanext.collection.types.TData">TData</span>, <span title="ckanext.collection.types.TDataCollection">TDataCollection</span>]</code></p>


      <p>Data source for SQLAlchemy model.</p>


<details class="warning" open>
  <summary>Warning</summary>
  <p>Final statement produced by <code>compute_data</code> and total number of results
are cached. Call <code>refresh_data()</code> method of the service to rebuild the
statement and refresh number of rows.</p>
</details>

<table>
      <thead>
        <tr>
          <th><span class="doc-section-title">ATTRIBUTE</span></th>
          <th><span>DESCRIPTION</span></th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.ModelData.model">model</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>main model used by data source</p>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.ModelData.is_scalar">is_scalar</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>return model instance instead of collection of columns.</p>
<details class="example">
<summary>Example</summary>
<p>Non-scalar collection returns rows as tuples of columns
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">ModelData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;is_scalar&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[(&quot;id-123-123&quot;, &quot;user-name&quot;, ...), ...]</span>
</code></pre></div></p>
<p>Scalar collection yields model instances
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">ModelData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;is_scalar&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[&lt;User id=id-123-123 name=user-name&gt;, ...]</span>
</code></pre></div></p>
</details>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code><span title="typing.Any">Any</span></code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.ModelData.static_columns">static_columns</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>select only specified columns. If <code>is_scalar</code> flag
enabled, only first columns from this list is returned.</p>
<details class="example">
<summary>Example</summary>
<p>Non-scalar collection with <code>static_columns</code> produces tuples with values
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">ModelData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;is_scalar&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;static_columns&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">sysadmin</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[(&quot;default&quot;, True), ...]</span>
</code></pre></div></p>
<p>Scalar collection with <code>static_columns</code> yields values of the first column
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">ModelData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;is_scalar&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;static_columns&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">sysadmin</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[&quot;default&quot;, ...]</span>
</code></pre></div></p>
</details>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>list[<span title="sqlalchemy.Column">Column</span>[<span title="typing.Any">Any</span>] | <span title="sqlalchemy.sql.elements.Label">Label</span>[<span title="typing.Any">Any</span>]]</code>
                  </span>
              </p>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="collection.shared.data.ModelData.static_filters">static_filters</span></code></td>
            <td class="doc-attribute-details">
              <div class="doc-md-description">
                <p>apply filters to the select statement</p>
<details class="example">
<summary>Example</summary>
<p>Filters are values produced by operations with model columns. The
same thing you'd pass into <code>.filter</code>/<code>.where</code> methods.</p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">ModelData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;is_scalar&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="s2">&quot;static_filters&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="o">.</span><span class="n">sysadmin</span> <span class="o">==</span> <span class="kc">True</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[&lt;User sysadmin=True ...&gt;, ...]</span>
</code></pre></div>
</details>
              </div>
              <p>
                  <span class="doc-attribute-annotation">
                    <b>TYPE:</b>
                      <code>list[<span title="typing.Any">Any</span>]</code>
                  </span>
              </p>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">Collection</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_factory</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">ModelData</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">data_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">User</span><span class="p">,</span> <span class="s2">&quot;is_scalar&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
<span class="go">[&lt;User ...&gt;, ...]</span>
</code></pre></div>
</details>



  <div class="doc doc-children">











  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../domain/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Abstract service">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Abstract service
              </div>
            </div>
          </a>
        
        
          
          <a href="../pager/" class="md-footer__link md-footer__link--next" aria-label="Next: Pager">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Pager
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.footer", "navigation.indexes", "navigation.top", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
    
  </body>
</html>